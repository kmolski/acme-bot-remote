<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>acme-bot-remote</title>

    <script data-trunk src="stomp.js"></script>
    <script>
      const url = "ws://192.168.100.201:15674/ws";
      const client = Stomp.client(url);
      const destination = "/exchange/acme_bot_remote"

      client.connect("krecik", "krecik");

      const accessCodeInput = () => document.getElementById("accessCode");
      const createMessage = op => {
        return JSON.stringify({
          op: op,
          code: accessCodeInput().value,
        });
      }

      const onResume = () => client.send(destination, {}, createMessage("resume"));
      const onPause = () => client.send(destination, {}, createMessage("pause"));
      const onStop = () => client.send(destination, {}, createMessage("stop"));
    </script>
  </head>

  <body>
    <label for="accessCode">Access code:</label>
    <input id="accessCode" minlength="6" maxlength="6">

    <button onclick="onResume()">Resume</button>
    <button onclick="onPause()">Pause</button>
    <button onclick="onStop()">Stop</button>
  </body>
</html>
